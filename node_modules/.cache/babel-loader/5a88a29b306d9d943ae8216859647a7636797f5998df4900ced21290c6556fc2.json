{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./Gameboard.css\";import{getRandomWord}from\"../../utilities/api\";import{createBoardState}from\"../../utilities/helpers\";import GuessRow from\"../GuessRow/GuessRow\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Gameboard(){const startingGuesses=6;// default starting guesses (rows)\nconst startingLetters=5;// default starting letters (columns)\nconst boardEvals={// object containing board evaluation key / value pairs \ninactive:\"IA\",rightLetter_RightPlace:\"RR\",rightLetter_WrongPlace:\"RW\",wrongLetter_WrongPlace:\"WW\"};// Board dimension states - sets up the Gameboard construction:\nconst[keywordLetters,setKeywordLetters]=useState(startingLetters);// letters in the answer\nconst[maxGuesses,setMaxGuesses]=useState(startingGuesses);// max attempts\nconst[boardLetters,setBoardLetters]=useState(createBoardState(keywordLetters,maxGuesses,\"\"));// running tally of the guesses across the whole round\nconst[boardEvaluated,setBoardEvaluated]=useState(createBoardState(keywordLetters,maxGuesses,boardEvals.inactive));const[keyword,setKeyword]=useState(getRandomWord(keywordLetters).toUpperCase());// the answer\nconst[guessNumber,setGuessNumber]=useState(0);// attempt number\nconst[guess,setGuess]=useState(\"\");// active guess \n// keywordLetters update event handler:\nconst updateKeywordLetters=event=>{event.preventDefault();setKeywordLetters(Number(event.target.value));setKeyword(getRandomWord(Number(event.target.value)).toUpperCase());setBoardLetters(createBoardState(Number(event.target.value),maxGuesses,\"\"));setBoardEvaluated(createBoardState(Number(event.target.value),maxGuesses,boardEvals.inactive));setGuessNumber(0);};// maxGuesses update event handler:\nconst updateMaxGuesses=event=>{event.preventDefault();setMaxGuesses(Number(event.target.value));// reset max guesses\nsetKeyword(getRandomWord(Number(event.target.value)).toUpperCase());setBoardLetters(createBoardState(keywordLetters,Number(event.target.value),\"\"));// reset boardstate\nsetBoardEvaluated(createBoardState(keywordLetters,Number(event.target.value),boardEvals.inactive));setGuessNumber(0);// reset guess number\n};// updateGuess event handler:\nconst updateGuess=event=>{event.preventDefault();let string=event.target.value;string=string.toUpperCase();setGuess(string);};const calculateGuess=event=>{event.preventDefault();if(guessNumber===maxGuesses){return;// exit if user is out of guesses\n}// 1. Update the letter state of the board \nconst guessArray=[...guess];// spread the guess into an Array\nconst newBoardLetters=boardLetters.map(row=>[...row]);// create a deep copy of the 2D state, so we don't update state directly\nnewBoardLetters[guessNumber]=guessArray;// update the copy of the board state with the guess inserted       \nsetBoardLetters(newBoardLetters);// update the letter state of the board\n// 2. Evaluate the guess and update the evaluated state\nconst evaluatedArray=Array(keywordLetters);const keywordArray=Array.from(keyword);const newBoardEvaluated=boardEvaluated.map(row=>[...row]);guessArray.forEach((x,index)=>{if(x===keywordArray[index]){evaluatedArray[index]=boardEvals.rightLetter_RightPlace;}else if(keywordArray.some(y=>x===y)){evaluatedArray[index]=boardEvals.rightLetter_WrongPlace;}else evaluatedArray[index]=boardEvals.wrongLetter_WrongPlace;});newBoardEvaluated[guessNumber]=[...evaluatedArray];// update the \nsetBoardEvaluated(newBoardEvaluated);// update the evaluated state\n// 3. Update other relevant states\nsetGuessNumber(guessNumber+1);// update the guess number\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"settings\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Letters:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"LettersInput\",type:\"number\",min:4,max:8,value:keywordLetters,onChange:updateKeywordLetters}),/*#__PURE__*/_jsx(\"label\",{children:\"Guesses:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"GuessesInput\",type:\"number\",min:2,max:8,value:maxGuesses,onChange:updateMaxGuesses})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:[...Array(maxGuesses).keys()].map(arg=>{return/*#__PURE__*/_jsx(GuessRow,{id:arg// tell GuessRow which ROW it is\n,keywordLetters:keywordLetters// tell GuessRow how many letters (COLs) in the keyword\n,boardLetters:boardLetters// Allow GuessRow to pass the Letters their value\n,boardEvaluated:boardEvaluated// Allow GuessRow to pass the Letters their evaluation class\n},arg);})}),/*#__PURE__*/_jsxs(\"form\",{className:\"guess\",onSubmit:calculateGuess,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Guess:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",minLength:keywordLetters,maxLength:keywordLetters,onChange:updateGuess}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Guess\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","getRandomWord","createBoardState","GuessRow","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Gameboard","startingGuesses","startingLetters","boardEvals","inactive","rightLetter_RightPlace","rightLetter_WrongPlace","wrongLetter_WrongPlace","keywordLetters","setKeywordLetters","maxGuesses","setMaxGuesses","boardLetters","setBoardLetters","boardEvaluated","setBoardEvaluated","keyword","setKeyword","toUpperCase","guessNumber","setGuessNumber","guess","setGuess","updateKeywordLetters","event","preventDefault","Number","target","value","updateMaxGuesses","updateGuess","string","calculateGuess","guessArray","newBoardLetters","map","row","evaluatedArray","Array","keywordArray","from","newBoardEvaluated","forEach","x","index","some","y","children","className","id","type","min","max","onChange","keys","arg","onSubmit","minLength","maxLength"],"sources":["/Users/mattmogan/Desktop/Projects/WordleFlex/src/components/Gameboard/Gameboard.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport \"./Gameboard.css\"; \nimport {getRandomWord} from \"../../utilities/api\"\nimport {createBoardState} from \"../../utilities/helpers\"\nimport GuessRow from \"../GuessRow/GuessRow\"\n\nexport default function Gameboard(){\n    \n    const startingGuesses = 6 // default starting guesses (rows)\n    const startingLetters = 5 // default starting letters (columns)\n    const boardEvals = { // object containing board evaluation key / value pairs \n        inactive: \"IA\", \n        rightLetter_RightPlace: \"RR\",\n        rightLetter_WrongPlace: \"RW\",\n        wrongLetter_WrongPlace: \"WW\"\n    }  \n\n    // Board dimension states - sets up the Gameboard construction:\n\n    const [keywordLetters, setKeywordLetters] = useState(startingLetters) // letters in the answer\n    const [maxGuesses, setMaxGuesses] = useState(startingGuesses) // max attempts\n    const [boardLetters, setBoardLetters] = useState(createBoardState(keywordLetters,maxGuesses,\"\")) // running tally of the guesses across the whole round\n    const [boardEvaluated, setBoardEvaluated] = useState(createBoardState(keywordLetters,maxGuesses,boardEvals.inactive)) \n    const [keyword, setKeyword] = useState(getRandomWord(keywordLetters).toUpperCase()) // the answer\n    const [guessNumber, setGuessNumber] = useState(0) // attempt number\n    const [guess, setGuess] = useState(\"\") // active guess \n\n    // keywordLetters update event handler:\n\n    const updateKeywordLetters = (event) => {\n        event.preventDefault()\n        setKeywordLetters(Number(event.target.value))\n        setKeyword(getRandomWord(Number(event.target.value)).toUpperCase())\n        setBoardLetters(createBoardState(Number(event.target.value),maxGuesses,\"\"))\n        setBoardEvaluated(createBoardState(Number(event.target.value),maxGuesses,boardEvals.inactive))\n        setGuessNumber(0)\n    }\n\n    // maxGuesses update event handler:\n\n    const updateMaxGuesses = (event) => {\n        event.preventDefault()\n        setMaxGuesses(Number(event.target.value)) // reset max guesses\n        setKeyword(getRandomWord(Number(event.target.value)).toUpperCase())\n        setBoardLetters(createBoardState(keywordLetters,Number(event.target.value),\"\")) // reset boardstate\n        setBoardEvaluated(createBoardState(keywordLetters,Number(event.target.value),boardEvals.inactive))\n        setGuessNumber(0) // reset guess number\n    }\n\n    // updateGuess event handler:\n\n    const updateGuess = (event) => {\n        event.preventDefault()\n        let string = event.target.value\n        string = string.toUpperCase()\n        setGuess(string)\n    }\n\n    const calculateGuess = (event) => {\n        \n        event.preventDefault()\n        \n        if(guessNumber === maxGuesses){\n            return // exit if user is out of guesses\n        }\n        \n        // 1. Update the letter state of the board \n        \n        const guessArray = [...guess] // spread the guess into an Array\n        const newBoardLetters = boardLetters.map(row => [...row]) // create a deep copy of the 2D state, so we don't update state directly\n        newBoardLetters[guessNumber] = guessArray // update the copy of the board state with the guess inserted       \n        setBoardLetters(newBoardLetters) // update the letter state of the board\n\n        // 2. Evaluate the guess and update the evaluated state\n        \n        const evaluatedArray = Array(keywordLetters)\n        const keywordArray = Array.from(keyword)\n        const newBoardEvaluated = boardEvaluated.map(row => [...row])\n\n        guessArray.forEach((x,index) => {\n            if (x === keywordArray[index]) {\n                evaluatedArray[index] = boardEvals.rightLetter_RightPlace\n            } else if (keywordArray.some(y => x === y)) {\n                evaluatedArray[index] = boardEvals.rightLetter_WrongPlace\n            } else \n               evaluatedArray[index] = boardEvals.wrongLetter_WrongPlace         \n        })\n\n        newBoardEvaluated[guessNumber] = [...evaluatedArray] // update the \n        setBoardEvaluated(newBoardEvaluated) // update the evaluated state\n\n        // 3. Update other relevant states\n\n        setGuessNumber(guessNumber+1) // update the guess number\n\n    }\n\n    return (\n        <>\n        <form className=\"settings\">\n            <label>Letters:</label>\n            <input \n                id=\"LettersInput\" \n                type=\"number\" \n                min={4} \n                max={8}\n                value={keywordLetters}\n                onChange={updateKeywordLetters}\n            />\n            <label>Guesses:</label>\n            <input \n                id=\"GuessesInput\" \n                type=\"number\" \n                min={2} \n                max={8}\n                value={maxGuesses}\n                onChange={updateMaxGuesses}\n            />\n        </form>\n        <div className=\"container\">    \n           {[...Array(maxGuesses).keys()].map((arg) => {\n            return(\n                <GuessRow\n                    key = {arg}\n                    id = {arg} // tell GuessRow which ROW it is\n                    keywordLetters = {keywordLetters} // tell GuessRow how many letters (COLs) in the keyword\n                    boardLetters = {boardLetters} // Allow GuessRow to pass the Letters their value\n                    boardEvaluated = {boardEvaluated} // Allow GuessRow to pass the Letters their evaluation class\n                />\n            )\n           })}\n        </div>\n        <form className=\"guess\" onSubmit={calculateGuess}>\n            <label>Guess:</label>\n            <input \n                type=\"text\" \n                minLength={keywordLetters} \n                maxLength={keywordLetters}\n                onChange={updateGuess}\n            />\n            <input \n                type=\"submit\" \n                value=\"Guess\"\n            />\n        </form>\n        </>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}